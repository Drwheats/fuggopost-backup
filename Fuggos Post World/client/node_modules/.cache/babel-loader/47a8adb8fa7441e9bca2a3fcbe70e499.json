{"ast":null,"code":"var _jsxFileName = \"/Users/saraabdul/WebstormProjects/fuggopost/Fuggos Post World/client/src/PostPage.js\",\n  _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport EnemyPost from \"./EnemyPost\";\nimport { $ } from \"jquery\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PostPage() {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [data, setData] = useState({\n    postName: \"\",\n    postTopic: \"\",\n    postBody: \"\",\n    postNumber: 0,\n    postVisibility: true,\n    postReplies: [],\n    numberInlineReplies: [],\n    timePosted: \"\"\n  });\n  // const [inlineReplies, setInlineReplies] = useState();\n  const [clientReplyBody, setClientReplyBody] = useState(\"no text\");\n  const [clientReplyName, setClientReplyName] = useState(\"anonymous\");\n  let pageLoc = window.location.pathname.split('/')[2];\n  let json_body = JSON.stringify({\n    pageLoc\n  });\n  const scoreJSON = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: json_body\n  };\n\n  // ALl things REPLIES go here:\n  const changeInputNameValue = event => {\n    setClientReplyName(event.target.value);\n  };\n  const changeInputPostBody = event => {\n    setClientReplyBody(event.target.value);\n  };\n  function submitReply() {\n    if (clientReplyName === \"\") {\n      setClientReplyName(\"anonymous\");\n    }\n    let json_body = JSON.stringify({\n      pageLoc: pageLoc,\n      replyName: clientReplyName,\n      replyBody: clientReplyBody\n    });\n    const scoreJSON = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: json_body\n    };\n    fetch(\"http://localhost:3001/submitReply\", scoreJSON).then(response => response.json());\n    setIsLoading(true);\n  }\n\n  // Fetching the data JSON variable from the server.\n  useEffect(() => {\n    if (isLoading) {\n      fetch(\"http://localhost:3001/pageInfo\", scoreJSON).then(response => response.json()).then(result => {\n        setData(result);\n        setIsLoading(false);\n      });\n    }\n    mapReplies();\n  });\n  window.onload = mapReplies();\n  function mapReplies() {\n    data.numberInlineReplies = [];\n    data.postReplies.map(s => {\n      let holder = [];\n      let str = \"\";\n      s.nestedReplies = [];\n      let len = s.replyBody.length;\n      // this finds all the replies inside of data.postReplies[i].replyBody\n      for (let i = 0; i < len; i++) {\n        str = \"\";\n        if (s.replyBody[i] === '@') {\n          // if (s.replyBody[i]) {\n          for (let j = i + 1; j < len; j++) {\n            if (/^\\d/.test(s.replyBody[j])) {\n              str += s.replyBody[j];\n              continue;\n            } else {\n              if (str === \"\") {\n                break;\n              }\n            }\n            if (str !== \"\") {\n              holder.push(str);\n              str = \"\";\n              break;\n            }\n          }\n        }\n        if (str !== \"\") {\n          str = Number(str);\n          holder.push(str);\n        }\n      }\n      for (let i = 0; i < holder.length; i++) {\n        if (Number(holder[i]) === Number(data.postNumber)) {\n          // console.log(s.postNumber)\n          data.numberInlineReplies.push(s.postNumber);\n        }\n      }\n      for (let i = 0; i < data.postReplies.length; i++) {\n        if (data.postReplies[i].nestedReplies) for (let j = 0; j < holder.length; j++) {\n          if (Number(holder[j]) === Number(data.postReplies[i].postNumber) && !data.postReplies[i].nestedReplies.includes(s.postNumber)) {\n            data.postReplies[i].nestedReplies.push(s.postNumber);\n          }\n        }\n      }\n      return 0;\n    });\n  }\n  function insertInlineReplies() {\n    for (let k = 0; k < data.postReplies.length; k++) {\n      let greenStr = \"\";\n      let greenText = document.createElement('p');\n      let createdElement = document.createElement('span');\n      let whiteText = document.createElement('pre');\n      let links = document.createElement('a');\n      let enemyPostBody = data.postReplies[k].replyBody + \" \";\n      for (let i = 0; i < enemyPostBody.length; i++) {\n        let greenText = document.createElement('p');\n        let postStr = \"\";\n        if (enemyPostBody[i] === '>') {\n          greenStr += enemyPostBody[i];\n          for (let j = i + 1; j < enemyPostBody.length; j++) {\n            if (enemyPostBody[j] !== '\\n') {\n              greenStr += enemyPostBody[j];\n              console.log(greenStr);\n            } else {\n              // console.log(\"we are about to append \" + postStr)\n              console.log(greenStr + \" logged!\");\n              greenText.setAttribute(\"className\", \"greenText\");\n              greenText.className = \"greenText\";\n              greenText.textValue = greenStr;\n              greenText.innerHTML = greenStr;\n              createdElement.append(greenText);\n              greenStr = \"\";\n              greenText = document.createElement('p');\n              i = j;\n              whiteText.insertAdjacentElement(\"beforeend\", greenText);\n              break;\n            }\n          }\n        }\n        if (enemyPostBody[i] === '@') {\n          postStr += enemyPostBody[i];\n          for (let j = i + 1; j < enemyPostBody.length; j++) {\n            if (/^\\d/.test(enemyPostBody[j])) {\n              postStr += enemyPostBody[j];\n            } else if (postStr === '@') {\n              break;\n            } else {\n              // console.log(\"we are about to append \" + postStr)\n              let postLink = document.createElement('a');\n              postLink.className = \"inlineReply\";\n              postLink.textValue = postStr;\n              postLink.content = postStr;\n              postLink.id = \"inlineReply\" + data.postReplies[k].postNumber;\n              postLink.innerHTML = postStr;\n              postLink.setAttribute('href', '#reply' + postStr.slice(1));\n              try {\n                postLink.setAttribute('textfloat', document.getElementById(\"reply\" + postStr.slice(1)).innerText);\n              } catch (e) {}\n              whiteText.append(postLink);\n              i = j - 1;\n              break;\n            }\n          }\n        } else {\n          whiteText.append(enemyPostBody[i]);\n        }\n      }\n      try {\n        document.getElementById(\"enemyPostText\" + data.postReplies[k].postNumber).innerHTML = '';\n        createdElement.append(whiteText);\n        createdElement.append(links);\n        document.getElementById(\"enemyPostText\" + data.postReplies[k].postNumber).append(createdElement);\n      } catch (e) {}\n    }\n  }\n  function insertTopReplies() {\n    let classes = document.getElementsByClassName(\"inlineReply2\");\n    // console.log(\"starting : \")\n    for (let i = 0; i < classes.length; i++) {\n      // console.log(classes[i])\n      // console.log(data.postReplies)\n      classes[i].setAttribute(\"textfloat\", document.getElementById(\"reply\" + classes[i].innerText.slice(2)).innerText);\n    }\n    classes = document.getElementsByClassName(\"inlineReply3\");\n    for (let i = classes.length; i > 0; i--) {\n      // console.log(classes[i])\n      try {\n        classes[i].setAttribute(\"textfloat\", document.getElementById(\"reply\" + classes[i].innerText.slice(2)).innerText);\n      } catch (e) {}\n    }\n  }\n  insertInlineReplies();\n  insertTopReplies();\n  function formatDate() {\n    let timePosted = Date(data.timePosted);\n    timePosted = timePosted.split(' ').slice(0, 5).join(' ');\n    return timePosted;\n  }\n  formatDate();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"postPage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"originalPoster\",\n      id: \"reply\" + data.postNumber,\n      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"inlineReply\",\n        children: [data.numberInlineReplies.map(r => {\n          let lol = \"hey\";\n          try {\n            lol = document.getElementById(\"reply\" + r).innerText;\n          } catch (e) {}\n          ;\n          return /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"inlineReply3\",\n            href: \"/post/\" + data.postNumber + \"#reply\" + r,\n            textfloat: lol,\n            children: [\">>\", r, \"  \"]\n          }, r, true, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 24\n          }, this);\n        }), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 74\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"postTopic\",\n        children: data.postTopic\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"originalPosterHeader\",\n        id: \"originalPosterHeader\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"OriginalPosterNumber\",\n          children: [\"#\", data.postNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 81\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"originalPosterName\",\n          children: data.postName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 141\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"timeStampOP\",\n          children: formatDate()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"postText\",\n        children: data.postBody\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"enemyPosters\",\n      children: data.postReplies.map(s => {\n        return /*#__PURE__*/_jsxDEV(EnemyPost, {\n          enemyPostName: s.replyName,\n          enemyPostBody: s.replyBody,\n          enemyPostNumber: s.postNumber,\n          motherPost: data.postNumber,\n          nestedReplies: s.nestedReplies,\n          timePosted: s.postTime\n        }, s.postNumber, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 28\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"submissionFormReply\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"submissionForm2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: changeInputNameValue,\n          type: \"text\",\n          className: \"nameTextSubmit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: changeInputPostBody,\n          className: \"mainTextSubmit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitReply,\n          children: \"REPLY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 9\n  }, this);\n}\n_s(PostPage, \"TgN/9sVimKSva8KzelauGK/Q6cQ=\");\n_c = PostPage;\nvar _c;\n$RefreshReg$(_c, \"PostPage\");","map":{"version":3,"names":["useEffect","useState","EnemyPost","$","PostPage","isLoading","setIsLoading","data","setData","postName","postTopic","postBody","postNumber","postVisibility","postReplies","numberInlineReplies","timePosted","clientReplyBody","setClientReplyBody","clientReplyName","setClientReplyName","pageLoc","window","location","pathname","split","json_body","JSON","stringify","scoreJSON","method","headers","body","changeInputNameValue","event","target","value","changeInputPostBody","submitReply","replyName","replyBody","fetch","then","response","json","result","mapReplies","onload","map","s","holder","str","nestedReplies","len","length","i","j","test","push","Number","includes","insertInlineReplies","k","greenStr","greenText","document","createElement","createdElement","whiteText","links","enemyPostBody","postStr","console","log","setAttribute","className","textValue","innerHTML","append","insertAdjacentElement","postLink","content","id","slice","getElementById","innerText","e","insertTopReplies","classes","getElementsByClassName","formatDate","Date","join","r","lol","postTime"],"sources":["/Users/saraabdul/WebstormProjects/fuggopost/Fuggos Post World/client/src/PostPage.js"],"sourcesContent":["import {useEffect} from \"react\";\nimport {useState} from \"react\";\nimport EnemyPost from \"./EnemyPost\";\nimport {$} from \"jquery\";\n\nexport default function PostPage() {\n    const [isLoading, setIsLoading] = useState(true);\n    const [data, setData] = useState({postName: \"\", postTopic: \"\", postBody: \"\", postNumber: 0, postVisibility: true, postReplies: [], numberInlineReplies: [], timePosted: \"\"});\n    // const [inlineReplies, setInlineReplies] = useState();\n    const [clientReplyBody, setClientReplyBody] = useState(\"no text\");\n    const [clientReplyName, setClientReplyName] = useState(\"anonymous\");\n\n    let pageLoc = window.location.pathname.split('/')[2];\n    let json_body = JSON.stringify({ pageLoc })\n    const scoreJSON = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: json_body\n    }\n\n    // ALl things REPLIES go here:\n    const changeInputNameValue = (event) => {\n        setClientReplyName(event.target.value);\n    }\n    const changeInputPostBody = (event) => {\n        setClientReplyBody(event.target.value);\n    }\n    function submitReply() {\n        if (clientReplyName === \"\") {\n            setClientReplyName(\"anonymous\");\n        }\n        let json_body = JSON.stringify(\n            {pageLoc: pageLoc, replyName: clientReplyName, replyBody: clientReplyBody})\n        const scoreJSON = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: json_body\n        }\n        fetch(\"http://localhost:3001/submitReply\", scoreJSON)\n            .then(response => response.json());\n        setIsLoading(true);\n    }\n\n    // Fetching the data JSON variable from the server.\n    useEffect(() => {\n        if (isLoading) {\n            fetch(\"http://localhost:3001/pageInfo\", scoreJSON)\n                .then(response => response.json())\n                .then((\n                    result) => {\n                    setData(result);\n                    setIsLoading(false);\n\n                })\n        }\n        mapReplies();\n        }\n    )\n    window.onload = mapReplies();\n\n    function mapReplies() {\n        data.numberInlineReplies = []\n\n        data.postReplies.map(s=> {\n            let holder = [];\n            let str = \"\";\n            s.nestedReplies = []\n            let len = s.replyBody.length\n            // this finds all the replies inside of data.postReplies[i].replyBody\n            for (let i = 0; i < len; i++) {\n                str = \"\";\n                if (s.replyBody[i] === '@') {\n                // if (s.replyBody[i]) {\n                    for (let j= i +1; j < len; j++) {\n                        if (/^\\d/.test(s.replyBody[j])) {\n                            str += s.replyBody[j];\n                            continue;}\n                        else\n                        {if (str === \"\") {\n                            break;\n                        }}\n\n                        if (str !== \"\") {\n                            holder.push(str);\n                            str = \"\";\n                            break;\n                           }\n\n                    }\n                } if (str !== \"\")\n                {   str = Number(str)\n                    holder.push(str)}\n            }\n                for (let i = 0; i < holder.length; i++) {\n                    if (Number(holder[i]) === Number(data.postNumber)){\n                        // console.log(s.postNumber)\n                        data.numberInlineReplies.push(s.postNumber)\n                    }\n\n                }\n\n            for (let i =0; i < data.postReplies.length; i++){\n                if (data.postReplies[i].nestedReplies)\n                for (let j=0; j<holder.length; j++) {\n                    if (Number(holder[j]) === Number(data.postReplies[i].postNumber) && !data.postReplies[i].nestedReplies.includes(s.postNumber)) {\n                        data.postReplies[i].nestedReplies.push(s.postNumber)\n                    }\n\n                }\n            }\n            return 0;\n        }\n        )\n    }\n    function insertInlineReplies(){\n        for (let k =0; k< data.postReplies.length; k++){\n\n            let greenStr = \"\"\n            let greenText = document.createElement('p');\n\n            let createdElement = document.createElement('span');\n            let whiteText = document.createElement('pre');\n            let links = document.createElement('a');\n            let enemyPostBody = data.postReplies[k].replyBody + \" \";\n            for (let i = 0; i < enemyPostBody.length; i++) {\n                let greenText = document.createElement('p')\n                let postStr = \"\"\n                if (enemyPostBody[i] === '>') {\n                    greenStr += enemyPostBody[i];\n                    for (let j=i+1; j < enemyPostBody.length; j++) {\n                        if (enemyPostBody[j] !== '\\n'){\n                            greenStr += enemyPostBody[j];\n                            console.log(greenStr)\n                        }\n                        else {\n                            // console.log(\"we are about to append \" + postStr)\n                            console.log(greenStr + \" logged!\")\n                            greenText.setAttribute(\"className\", \"greenText\");\n                            greenText.className = \"greenText\";\n                            greenText.textValue = greenStr;\n                            greenText.innerHTML = greenStr;\n                            createdElement.append(greenText)\n                            greenStr = \"\"\n                            greenText = document.createElement('p');\n                            i = j;\n                            whiteText.insertAdjacentElement(\"beforeend\", greenText);\n                            break;\n                        }\n\n\n\n                    }\n                }\n\n\n                if (enemyPostBody[i] === '@') {\n                    postStr += enemyPostBody[i];\n                    for (let j=i+1; j < enemyPostBody.length; j++) {\n                        if (/^\\d/.test(enemyPostBody[j])) {\n                            postStr += enemyPostBody[j];\n                        }\n                        else if (postStr === '@'){\n                            break;\n                        }\n                        else {\n                            // console.log(\"we are about to append \" + postStr)\n                            let postLink = document.createElement('a')\n                            postLink.className = \"inlineReply\";\n                            postLink.textValue = postStr;\n                            postLink.content = postStr;\n\n                            postLink.id = \"inlineReply\"+data.postReplies[k].postNumber;\n\n                            postLink.innerHTML = postStr;\n                            postLink.setAttribute('href', '#reply'+postStr.slice(1));\n                            try{\n                                postLink.setAttribute('textfloat', document.getElementById(\"reply\"+postStr.slice(1)).innerText);\n                            }\n                            catch (e){}\n                            whiteText.append(postLink)\n                            i = j -1;\n                            break;\n                        }\n\n                    }\n                }\n\n                else {whiteText.append(enemyPostBody[i])}\n\n            }\n            try {\n                document.getElementById(\"enemyPostText\"+data.postReplies[k].postNumber).innerHTML = '';\n                createdElement.append(whiteText)\n                createdElement.append(links)\n                document.getElementById(\"enemyPostText\"+data.postReplies[k].postNumber).append(createdElement)\n            }\n\n            catch (e){}\n        }\n    }\n\n    function insertTopReplies(){\n        let classes = document.getElementsByClassName(\"inlineReply2\");\n        // console.log(\"starting : \")\n        for (let i=0; i<classes.length; i++){\n            // console.log(classes[i])\n            // console.log(data.postReplies)\n            classes[i].setAttribute(\"textfloat\", document.getElementById(\"reply\"+classes[i].innerText.slice(2)).innerText)\n        }\n        classes = document.getElementsByClassName(\"inlineReply3\");\n        for (let i=classes.length; i>0; i--){\n            // console.log(classes[i])\n            try {\n                classes[i].setAttribute(\"textfloat\", document.getElementById(\"reply\"+classes[i].innerText.slice(2)).innerText)\n            }\n            catch (e) {\n\n            }\n        }\n\n\n    }\n\n    insertInlineReplies();\n    insertTopReplies();\n\n    function formatDate() {\n        let timePosted = Date(data.timePosted);\n        timePosted = timePosted.split(' ').slice(0, 5).join(' ');\n        return timePosted;\n    }\n    formatDate();\n\n    return (\n\n        <div className=\"postPage\" >\n            <div className=\"originalPoster\" id={\"reply\"+data.postNumber}><ul className=\"inlineReply\">{data.numberInlineReplies.map((r) => {\n                let lol = \"hey\"\n                try{lol = document.getElementById(\"reply\"+r).innerText}\n                catch (e){};\n                return <a className=\"inlineReply3\" href={\"/post/\" + data.postNumber + \"#reply\"+r} textfloat={lol} key={r}>>>{r}  </a>\n            })} </ul>\n                <h2 className=\"postTopic\">{data.postTopic}</h2>\n                <div className=\"originalPosterHeader\" id=\"originalPosterHeader\"><h3 className=\"OriginalPosterNumber\">#{data.postNumber}</h3><h3 className=\"originalPosterName\">{data.postName}</h3>\n                    <h3 className=\"timeStampOP\">{formatDate()}</h3>\n                </div>\n            <p className=\"postText\">{data.postBody}</p>\n            </div>\n        <div className=\"enemyPosters\">\n            {data.postReplies.map(s => {\n                    return <EnemyPost key={s.postNumber} enemyPostName={s.replyName} enemyPostBody={s.replyBody} enemyPostNumber={s.postNumber} motherPost={data.postNumber} nestedReplies={s.nestedReplies} timePosted={s.postTime}/>\n                })}\n        </div>\n            <div className=\"submissionFormReply\">\n\n            <div className=\"submissionForm2\">\n                <label>Name</label><input onChange={changeInputNameValue} type=\"text\" className=\"nameTextSubmit\"/>\n\n                <br/>\n                <textarea onChange={changeInputPostBody} className=\"mainTextSubmit\"/>\n                <br/>\n                <button onClick={submitReply}>REPLY</button>\n            </div>\n            </div>\n\n        </div> )}"],"mappings":"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"},"metadata":{},"sourceType":"module"}